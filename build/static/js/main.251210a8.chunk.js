(this["webpackJsonptik-tok-stargate"]=this["webpackJsonptik-tok-stargate"]||[]).push([[0],{1687:function(e,s,t){},1688:function(e,s,t){"use strict";t.r(s);t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(187),t(188),t(189),t(190),t(191),t(192),t(193),t(194),t(195),t(196),t(197),t(198),t(199),t(200),t(201),t(202),t(203),t(205),t(206),t(79),t(207),t(208),t(209),t(210),t(211),t(212),t(213),t(214),t(215),t(216),t(217),t(218),t(219),t(220),t(221),t(223),t(224),t(226),t(227),t(228),t(229),t(230),t(231),t(232),t(233),t(234),t(235),t(236),t(237),t(239),t(240),t(241),t(242),t(243),t(244),t(245),t(246),t(247),t(248),t(249),t(250),t(252),t(253),t(254),t(255),t(256),t(257),t(259),t(261),t(263),t(264),t(265),t(266),t(267),t(268),t(269),t(270),t(271),t(272),t(273),t(274),t(275),t(276),t(277),t(278),t(279),t(280),t(281),t(282),t(284),t(285),t(288),t(289),t(290),t(292),t(293),t(294),t(295),t(296),t(297),t(298),t(299),t(300),t(301),t(302),t(155),t(303),t(304),t(305),t(306),t(307),t(308),t(309),t(158),t(310),t(311),t(312),t(313),t(314),t(315),t(316),t(317),t(318),t(319),t(320),t(321),t(322),t(323),t(324),t(325),t(326),t(327),t(328),t(329),t(330),t(331),t(332),t(333),t(334),t(335),t(337),t(338),t(339),t(340),t(341),t(342),t(343),t(344),t(345),t(346),t(347),t(348),t(349),t(350),t(351),t(352),t(353),t(354),t(355),t(356),t(357),t(358),t(359),t(360),t(361),t(362),t(363),t(364),t(365),t(366),t(367),t(368),t(369),t(370),t(371),t(372),t(373),t(374),t(375),t(376),t(379),t(166);var c=t(1),n=t(2),i=t.n(n),a=t(177),r=t.n(a),l=t(75),o=t(14),j=t(46),d=t.n(j),u=t(74),b=t(57),m=function(e){var s=e.user;return Object(c.jsxs)("div",{className:"section microcard",children:[Object(c.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{className:"bold",children:s.username}),Object(c.jsx)("p",{children:s.name})]})]})},O=function(e){var s=e.users;return Object(c.jsxs)("div",{className:"followers-column",children:[Object(c.jsxs)("div",{className:"followers-section",children:[Object(c.jsx)("div",{className:"home"}),Object(c.jsx)("h2",{className:"bold red",children:"For You"})]}),Object(c.jsxs)("div",{className:"followers-section",children:[Object(c.jsx)("div",{className:"following"}),Object(c.jsx)("h2",{children:"Following"})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("p",{children:"Your top accounts"}),s&&s.map((function(e,s){return Object(c.jsx)(m,{user:e},s)})),Object(c.jsx)("hr",{})]})},h=function(e){var s=e.user,t=e.toggleFollow,n=s.timestamp.slice(2,7);return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("div",{className:"break"}),Object(c.jsxs)("div",{className:"section",children:[Object(c.jsxs)("div",{className:"user-info",children:[Object(c.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%"}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"section",children:[Object(c.jsx)("h3",{className:"bold",children:s.username}),Object(c.jsx)("p",{className:"username",children:s.name}),Object(c.jsx)("p",{children:n})]}),Object(c.jsx)("p",{children:s.caption})]})]}),s.button_visible&&Object(c.jsx)("div",{className:s.is_followed?"followed-button":"follow-button",onClick:function(){return t(s)},children:s.is_followed?"Following":"Follow"})]}),Object(c.jsx)("video",{className:"video",controls:!0,children:Object(c.jsx)("source",{src:s.video,type:"video/mp4"})}),Object(c.jsxs)("div",{className:"section socials",children:[Object(c.jsx)("i",{class:"far fa-heart"}),Object(c.jsx)("div",{className:"social-tag",children:s.likes}),Object(c.jsx)("i",{class:"far fa-comment-dots"}),Object(c.jsx)("div",{className:"social-tag",children:s.comments}),Object(c.jsx)("i",{class:"far fa-share-square"})]})]})},x=function(e){var s=e.user,t=e.toggleFollow;return Object(c.jsxs)("div",{className:"section minicard",children:[Object(c.jsxs)("div",{className:"section",children:[Object(c.jsx)("img",{className:"user-profile",src:s.avatar,width:"100%"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{className:"bold",children:s.username}),Object(c.jsx)("p",{children:s.name})]})]}),s.button_visible&&Object(c.jsx)("div",{className:s.is_followed?"followed-button":"follow-button",onClick:function(){return t(s)},children:s.is_followed?"Following":"Follow"})]})},f=t(56),v=t.n(f),p=function(){var e,s,t,i=Object(n.useState)(null),a=Object(b.a)(i,2),r=a[0],l=a[1],o=Object(n.useState)(null),j=Object(b.a)(o,2),m=j[0],f=j[1],p=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("/.netlify/functions/addData");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(d.a.mark((function e(){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/.netlify/functions/posts");case 2:s=e.sent,console.log(s.data),l(s.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(m){var g={is_followed:!m.is_followed};v.a.put("/.netlify/functions/edit",{userId:m.id,data:g}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.error("error:"+e)})).then((function(){return N()})),f(null)}(Object(n.useEffect)((function(){p(),N()}),[]),r)&&(e=r.sort((function(e,s){return e.id<s.id?1:-1})),t=r.filter((function(e){return!0===e.is_followed})).sort((function(e,s){return e.likes<s.likes?1:-1})).slice(0,5),s=r.filter((function(e){return!1===e.is_followed})).sort((function(e,s){return e.likes<s.likes?1:-1})).slice(0,5));return Object(c.jsx)(c.Fragment,{children:e&&Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(O,{users:t}),Object(c.jsx)("div",{className:"feed",children:e.map((function(e,s){return Object(c.jsx)(h,{user:e,toggleFollow:function(e){return f(e)}},s)}))}),Object(c.jsx)("div",{className:"suggested-box",children:Object(c.jsx)("div",{className:"section",children:Object(c.jsxs)("div",{className:"suggested",children:[Object(c.jsx)("h2",{className:"bold",children:"Suggested accounts"}),Object(c.jsx)("div",{className:"break"}),s.map((function(e,s){return Object(c.jsx)(x,{user:e,toggleFollow:function(e){return f(e)}},s)}))]})})})]})})},N=t(90),g=t.n(N),w=function(){var e="aniak100",s=Object(n.useState)(null),t=Object(b.a)(s,2),i=t[0],a=t[1],r=Object(n.useState)(null),l=Object(b.a)(r,2),o=l[0],j=l[1],m=(new Date).toISOString(),O=g.a.random.uuid(),h=function(){var s=Object(u.a)(d.a.mark((function s(t){var c;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:t.preventDefault(),c={id:O,name:"Ania Kubow",username:e,avatar:"https://i.imgur.com/QwZod6m.png",is_followed:!1,video:i,caption:o,likes:0,comments:0,timestamp:m,button_visible:!1},v.a.post("/.netlify/functions/add",c).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));case 3:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"upload-page",children:[Object(c.jsx)("br",{}),Object(c.jsx)("h1",{children:"Upload video"}),Object(c.jsxs)("p",{children:["This video will be published to @",e]}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("form",{onSubmit:h,children:[Object(c.jsxs)("div",{className:"section",children:[Object(c.jsx)("div",{className:"image-upload"}),Object(c.jsxs)("div",{className:"form-section",children:[Object(c.jsxs)("div",{className:"section input-section",children:[Object(c.jsx)("label",{className:"bold",children:"Caption"}),Object(c.jsx)("input",{className:"input",name:"caption",onChange:function(e){return j(e.target.value)}})]}),Object(c.jsx)("div",{className:"break"}),Object(c.jsxs)("div",{className:"section input-section",children:[Object(c.jsx)("label",{className:"bold",children:"Video Url"}),Object(c.jsx)("input",{className:"input",name:"video",onChange:function(e){return a(e.target.value)}})]})]})]}),Object(c.jsx)("button",{children:"Post"})]})})]})},k=function(){return Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)(l.b,{to:"/",children:Object(c.jsx)("div",{className:"logo"})}),Object(c.jsx)("div",{className:"upload-container",children:Object(c.jsxs)("div",{className:"section",children:[Object(c.jsx)(l.b,{to:"/upload",children:Object(c.jsx)("div",{className:"upload"})}),Object(c.jsx)("img",{className:"personal",src:"https://i.imgur.com/QwZod6m.png"})]})})]})},_=(t(167),t(1687),function(){return Object(c.jsxs)(l.a,{children:[Object(c.jsx)(k,{}),Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:"/upload",component:w}),Object(c.jsx)(o.a,{path:"/",component:p})]})]})});s.default=_;r.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(_,{})}),document.getElementById("root"))}},[[1688,1,2]]]);
//# sourceMappingURL=main.251210a8.chunk.js.map